# 環境こうちくん

WordPress のテーマファイルを一括で作成するツールです

ブラウザでのみ完結するのでサーバーは不要です

## 免責事項

-   他人が作成した zip ファイルを解凍しないでください。
    -   悪質なスクリプトが仕込まれる可能性があります。
-   WordPress を新規作成する前提になっております。
    -   リニューアルの場合に使用すると、カスタム投稿/タクソノミーや、固定ページなどが意図せず作成されて不具合が起きる可能性がございます。
-   このサービス、およびテーマファイルを使用して起きた不具合や損害については一切の責任を負いませんので自己責任でご利用ください。

## 操作方法

1. サイトの名前（任意）を入力

サイトの名前を入力すると`style.css` ファイルの`Theme Name: [サイト名] WPテーマ`として出力されます。

---

2. テーマファイル名（必須）を入力

テーマファイル名を入力すると圧縮された zip ファイルの名前になります。

---

3. ページのタイトル（必須）を入力

ページのタイトルが生成される`.php`ファイルの冒頭に`Template Name: [タイトル]`として出力されます。

_例_

```php
<?php
/*
* Template Name: 会社概要 固定ページ
*/
?>
```

---

4. ページのスラッグを入力（必須）

次のラジオボタンの選択肢によって`page-[$slug].php`のようなファイル名で生成されます

---

5. ラジオボタンでページタイプを選択

_生成されるファイル_

-   固定ページ
    -   `page-[$slug].php`
-   アーカイブページ
    -   `archive-[$slug].php`
    -   `single-[$slug].php`
-   タクソノミーページ

    -   `taxonomy-[$slug].php`

    上記のファイルが生成されます

**※タクソノミーページの場合は、セレクトボックスからタクソノミーを追加したいカスタム投稿名を選択してください。**

6. ファイル内に追記したいテキスト（任意）を入力

```php
// 例）
<?php
	bcn_display(); // パンくずリストを表示
?>
```

↓↓↓ 上記を入力すると…

```php
<?php
/*
* Template Name: 実績紹介 アーカイブページ
*/
?>

<?php get_header(); ?>

<?php get_footer(); ?>

<?php
	bcn_display(); // パンくずリストを表示
?>
```

このように生成されます。

7. 追加オプションを選択

欲しい記述をチェックしてください。

8. scss ファイルを追加（任意）

ページ作成と同時に scss ファイルを作成できるフィールドがページごとに追加されます。

-   命名規則は FLOCSS ベースです
-   命名はキャメルケースです
-   `p-[ページのスラッグ][セクション名].scss`というファイル名で生成されます
-   入力は英数字のみです

## ページ追加

左下の青いボタン「ページを追加」を押下で新たにページを追加することができます。

## zip ファイルを作成

右下の緑色ボタン「.zip でダウンロード」を押下で圧縮されたテーマファイルをダウンロードすることができます。

## 生成されるファイル構成

```
📂 my-wordpress-theme
└── 📂 src
    ├── 📂 images
    │   ├── 📂 00_common （固定で作成されます）
    │   │   └── logo.svg　（ダミー）
    │   ├── 📂 01_[slug]
    │   ├── 📂 02_[slug]
    │   ├── :
    │   └── 📂 xx_[slug]
    └── 📂 scss
        ├── 📂 foundation
        ├── 📂 layout
        └── 📂 object
            ├── 📂 component
            ├── 📂 page
            │   ├── 📂 01_[slug]
            │   │   └── _index.scss
            │   ├── 📂 02_[slug]
            │   │   └── _index.scss
            │   ├── :
            │   ├── 📂 xx_[slug]
            │   │   └── _index.scss
            │   └── _index.scss （上記のディレクトリを`@forword`）
            └── 📂 utility
```

追加されたページの上から`01_`から始まります。

## 拡張予定

### 済み

-   お問い合わせサンクスページのリダイレクト記述ありで　 → 済み
-   セクションの class 名の scss ファイルを一気に作成したい　 → 済み
-   カスタムタクソノミーを自動で posttype.php に追記したい　 → 済み
-   CPTUI のカスタマイズはどこまで？　 → 　最低限の設定で作れたら楽　 → 済み
-   固定ページも functions から生成する　 → 　済み

### 対応前

-   不要な管理画面のメニューを消す
    -   テーマエディタ
    -   コメント
-   header の中身を柔軟性がないと難しい
-   cli コマンドを生成する
-   コメント機能を持たせて改善案を集めたい
    -   サーバー接続が不可欠
